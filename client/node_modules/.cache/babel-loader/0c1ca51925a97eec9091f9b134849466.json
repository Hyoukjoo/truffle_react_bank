{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\judam\\\\Documents\\\\HJ\\\\dev\\\\truffle_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\judam\\\\Documents\\\\HJ\\\\dev\\\\truffle_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\judam\\\\Documents\\\\HJ\\\\dev\\\\truffle_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\judam\\\\Documents\\\\HJ\\\\dev\\\\truffle_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\judam\\\\Documents\\\\HJ\\\\dev\\\\truffle_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\judam\\\\Documents\\\\HJ\\\\dev\\\\truffle_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\judam\\\\Documents\\\\HJ\\\\dev\\\\truffle_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\judam\\\\Documents\\\\HJ\\\\dev\\\\truffle_react\\\\client\\\\src\\\\component\\\\CheckPassword.js\";\nimport React, { Component, Fragment } from 'react';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport '../css/CheckPassword.css';\n\nvar CheckPassword =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CheckPassword, _Component);\n\n  function CheckPassword() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CheckPassword);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CheckPassword)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      password: '',\n      count: 0\n    };\n\n    _this._inputPassword = function (inputedNum) {\n      var password = _this.state.password;\n      if (password.length >= 4) console.log(\"비밀번호는 네자리입니다.\");else _this.setState({\n        password: password + inputedNum\n      });\n    };\n\n    _this._subPassword = function () {\n      var password = _this.state.password.slice(0, -1);\n\n      _this.setState({\n        password: password\n      });\n    };\n\n    _this._showPassword = function (length) {\n      var coveredPassword = '';\n\n      for (var i = 0; i < length; i++) {\n        coveredPassword += '*';\n      }\n\n      return coveredPassword;\n    };\n\n    _this._submit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var count, purpose, password, _this$props$info, contract, accounts;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              count = _this.state.count;\n              purpose = _this.props.match.params.purpose;\n              password = _this.state.password;\n              _this$props$info = _this.props.info, contract = _this$props$info.contract, accounts = _this$props$info.accounts;\n\n              if (!(password.length < 4)) {\n                _context.next = 8;\n                break;\n              }\n\n              console.log('비밀번호는 네자리입니다.');\n              _context.next = 17;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.next = 11;\n              return contract.checkPassword(password, {\n                from: accounts[0]\n              });\n\n            case 11:\n              if (purpose === 'withdraw') _this.props.history.push('/entermoney/withdraw');else if (purpose === 'remit') _this.props.history.push('/remit');\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](8);\n\n              if (count === 4) {\n                console.log(\"비밀번호를 5번 틀렸습니다. 처음으로 돌아갑니다.\");\n\n                _this.props.logout();\n              } else {\n                count++;\n                console.log(\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \".concat(count, \"\\uBC88 \\uD2C0\\uB838\\uC2B5\\uB2C8\\uB2E4.\"));\n\n                _this.setState({\n                  password: '',\n                  count: count\n                });\n              }\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[8, 14]]);\n    }));\n    return _this;\n  }\n\n  _createClass(CheckPassword, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var password = this.state.password;\n      var logout = this.props.logout;\n      var _showPassword = this._showPassword,\n          _inputPassword = this._inputPassword,\n          _subPassword = this._subPassword,\n          _submit = this._submit;\n\n      if (localStorage.getItem('isLogin') !== 'true') {\n        console.log('고객 정보가 없습니다.');\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"guidance\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \" \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694 \"), React.createElement(\"div\", {\n        className: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, _showPassword(password.length))), React.createElement(\"div\", {\n        className: \"inputAmount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"numberDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"number\",\n        onClick: function onClick() {\n          return _inputPassword('1');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"1\")), React.createElement(\"div\", {\n        className: \"number middle\",\n        onClick: function onClick() {\n          return _inputPassword('2');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"2\")), React.createElement(\"div\", {\n        className: \"number\",\n        onClick: function onClick() {\n          return _inputPassword('3');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"3\")), React.createElement(\"div\", {\n        className: \"number\",\n        onClick: function onClick() {\n          return _inputPassword('4');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"4\")), React.createElement(\"div\", {\n        className: \"number middle\",\n        onClick: function onClick() {\n          return _inputPassword('5');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"5\")), React.createElement(\"div\", {\n        className: \"number\",\n        onClick: function onClick() {\n          return _inputPassword('6');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"6\")), React.createElement(\"div\", {\n        className: \"number\",\n        onClick: function onClick() {\n          return _inputPassword('7');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"7\")), React.createElement(\"div\", {\n        className: \"number middle\",\n        onClick: function onClick() {\n          return _inputPassword('8');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"8\")), React.createElement(\"div\", {\n        className: \"number\",\n        onClick: function onClick() {\n          return _inputPassword('9');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"9\")), React.createElement(\"div\", {\n        className: \"number\",\n        onClick: function onClick() {\n          return _this2.setState({\n            password: ''\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\uC815\\uC815\")), React.createElement(\"div\", {\n        className: \"number middle\",\n        onClick: function onClick() {\n          return _inputPassword('0');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"0\")), React.createElement(\"div\", {\n        className: \"number\",\n        onClick: _subPassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"\\u2190\")))), React.createElement(\"div\", {\n        className: \"submitDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"submitButton confirmButton\",\n        onClick: _submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"\\uD655 \\uC778\")), React.createElement(\"div\", {\n        className: \"submitButton cancelButton\",\n        onClick: logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"\\uCDE8 \\uC18C\"))));\n    }\n  }]);\n\n  return CheckPassword;\n}(Component);\n\nexport default withRouter(CheckPassword);","map":{"version":3,"sources":["C:\\Users\\judam\\Documents\\HJ\\dev\\truffle_react\\client\\src\\component\\CheckPassword.js"],"names":["React","Component","Fragment","withRouter","Redirect","CheckPassword","state","password","count","_inputPassword","inputedNum","length","console","log","setState","_subPassword","slice","_showPassword","coveredPassword","i","_submit","purpose","props","match","params","info","contract","accounts","checkPassword","from","history","push","logout","localStorage","getItem"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\n\r\nimport '../css/CheckPassword.css'\r\n\r\nclass CheckPassword extends Component {\r\n  state = { password : '', count : 0 }\r\n\r\n  _inputPassword = inputedNum => {\r\n    const { password } = this.state\r\n\r\n    if(password.length >= 4) console.log(\"비밀번호는 네자리입니다.\")\r\n    else this.setState({ password : password + inputedNum })\r\n  }\r\n\r\n  _subPassword = () => {\r\n    const password = this.state.password.slice(0, -1)\r\n\r\n    this.setState({ password })\r\n  }\r\n\r\n  _showPassword = length => {\r\n    let coveredPassword = ''\r\n\r\n    for(let i = 0; i < length; i++){\r\n      coveredPassword += '*'\r\n    }\r\n    \r\n    return coveredPassword\r\n  }\r\n\r\n  _submit = async () => {\r\n    let count = this.state.count\r\n    const { purpose } = this.props.match.params\r\n    const { password } = this.state\r\n    const { contract, accounts } = this.props.info\r\n\r\n    if(password.length < 4) console.log('비밀번호는 네자리입니다.')\r\n    else {\r\n      try{\r\n        await contract.checkPassword(password, { from : accounts[0] })\r\n        if(purpose === 'withdraw') this.props.history.push('/entermoney/withdraw')\r\n        else if(purpose === 'remit') this.props.history.push('/remit')\r\n      } catch(error) {\r\n        if(count === 4) {\r\n          console.log(\"비밀번호를 5번 틀렸습니다. 처음으로 돌아갑니다.\")\r\n          this.props.logout()\r\n        } else {\r\n          count++\r\n          console.log(`비밀번호를 ${count}번 틀렸습니다.`)\r\n          this.setState({ password : '', count })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { password } = this.state\r\n    const { logout } = this.props\r\n    const { _showPassword, _inputPassword, _subPassword, _submit } = this\r\n    \r\n    if(localStorage.getItem('isLogin') !== 'true') {\r\n      console.log('고객 정보가 없습니다.')\r\n      return <Redirect to='/' />\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <p className='guidance'> 비밀번호를 입력하세요 </p>\r\n\r\n        <div className=\"password\">\r\n          <span>{_showPassword(password.length)}</span>\r\n        </div>\r\n\r\n        <div className=\"inputAmount\">\r\n          <div className=\"numberDiv\">\r\n            <div className=\"number\" onClick={() => _inputPassword('1')}><span>1</span></div>\r\n            <div className=\"number middle\" onClick={() => _inputPassword('2')}><span>2</span></div>\r\n            <div className=\"number\" onClick={() => _inputPassword('3')}><span>3</span></div>\r\n            <div className=\"number\" onClick={() => _inputPassword('4')}><span>4</span></div>\r\n            <div className=\"number middle\" onClick={() => _inputPassword('5')}><span>5</span></div>\r\n            <div className=\"number\" onClick={() => _inputPassword('6')}><span>6</span></div>\r\n            <div className=\"number\" onClick={() => _inputPassword('7')}><span>7</span></div>\r\n            <div className=\"number middle\" onClick={() => _inputPassword('8')}><span>8</span></div>\r\n            <div className=\"number\" onClick={() => _inputPassword('9')}><span>9</span></div>\r\n            <div className=\"number\" onClick={() => this.setState({ password : '' })}><span>정정</span></div>\r\n            <div className=\"number middle\" onClick={() => _inputPassword('0')}><span>0</span></div>\r\n            <div className=\"number\" onClick={_subPassword}><span>←</span></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"submitDiv\">\r\n          <div className=\"submitButton confirmButton\" onClick={_submit}>\r\n            <span>확 인</span>\r\n          </div>\r\n          <div className=\"submitButton cancelButton\" onClick={logout}>\r\n            <span>취 소</span>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(CheckPassword)"]},"metadata":{},"sourceType":"module"}